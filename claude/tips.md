# from https://youtu.be/a1a9wV88MSM?si=ijz-vGI3sSjwgz8c, with noteboolm

## CLI 기본기
• 클로드 코드 설치: npm install -g @anthropic-ai/claude-code 명령어를 통해 설치할 수 있습니다.
• 클로드 시작: claude 명령어를 입력하고 엔터를 누르면 시작됩니다.
• 프롬프트 동시 입력: claude [프롬프트] 형태로 명령어를 입력하여 클로드 실행과 동시에 프로젝트 분석을 시작할 수 있습니다.
• 데이터 파이핑: 파이프(|)를 사용하여 다른 명령어의 결과나 데이터를 클로드에게 주입할 수 있으며, 이는 헤드리스 모드와 함께 유용합니다.
• 최근 세션 이어가기: claude -c 또는 claude --continue 명령어를 사용하여 가장 최근에 실행했던 세션부터 이어서 작업을 할 수 있습니다.
• 세션 선택하여 이어가기: claude --resume 또는 claude -r을 입력하면 여러 세션 중 원하는 세션을 선택하여 해당 세션으로 들어갈 수 있습니다.
• 클로드 업데이트: claude update 명령어를 실행하여 클로드를 자동으로 업데이트할 수 있습니다.
• 특정 모델 선택: --model 플래그를 사용하여 소넷(Sonnet)과 같은 특정 모델을 선택하여 클로드를 시작할 수 있습니다.
• 헤드리스 모드 실행: claude -p [프롬프트]와 같이 -p 플래그를 사용하면 인터랙티브 모드 없이 클로드를 실행하고 바로 응답을 받을 수 있습니다. 이는 프로그래밍 방식 실행이나 멀티 에이전트 모드에서 유용합니다.
• 헤드리스 모드 아웃풋 포맷 지정: 헤드리스 모드 실행 시 --output-format json 플래그를 사용하여 응답을 JSON 형식으로 받아 데이터를 더 쉽게 다룰 수 있습니다.
• Verbose 플래그 사용: --verbose 플래그를 사용하여 요청에 대한 더 긴 로그를 받아볼 수 있어 특정 작업을 디버깅할 때 유용합니다.
## 인터랙티브 모드 및 슬래시 커맨드
• 헬프 커맨드 (/help): 사용 가능한 기능에 대한 상세 정보를 확인할 수 있습니다.
• 클리어 커맨드 (/clear): 대화 이력을 비우고 컨텍스트를 확보하여 새로운 내용을 다룰 때 컨텍스트 윈도우를 최대로 활용하고 환각(hallucination) 가능성을 낮출 수 있습니다.
• 콤팩트 커맨드 (/compact): 대화를 요약하고 압축하여 컨텍스트 윈도우를 확보할 수 있습니다. 자동으로 실행되는 오토 콤팩트보다 직접 적절한 시기에 사용하는 것이 좋습니다.
• 콤팩트 내용 지정: /compact [내용] 형태로 입력하여 특정 내용을 중점으로 요약하도록 지정할 수 있습니다.
• 컨픽 커맨드 (/config): 오토 콤팩트, 투두리스트 오프 등 다양한 세팅을 설정할 수 있습니다.
• 모델 커맨드 (/model): Opus, Sonnet, Default, Opus Plan 모드 중에서 사용할 모델을 선택할 수 있습니다.
• 코스트 커맨드 (/cost): API 모드 사용 시 얼마나 많은 토큰을 사용했고 비용이 얼마나 나왔는지 확인할 수 있습니다.
• 스테이터스 커맨드 (/status): 계정 및 시스템 상태를 손쉽게 확인할 수 있습니다.
• 닥터 커맨드 (/doctor): 설치 및 환경을 점검하여 체크리스트를 확인할 수 있습니다.
• 이닛 커맨드 (/init): 프로젝트를 초기화한 후 실행해야 하는 명령어로, 클로드 코드가 프로젝트 전체를 분석하고 필수 요약 내용을 claude.md 파일에 저장하도록 합니다.
• 메모리 기능 (/memory): claude.md 파일을 직접 수정할 수 있습니다. 프로젝트 메모리(현재 프로젝트에만 해당) 또는 사용자 메모리(모든 프로젝트에 공통 적용)를 수정할 수 있습니다.
• 메모리 빠른 추가: #을 누르고 추가하고 싶은 내용을 입력하면 claude.md에 빠르게 추가됩니다.
• 퍼미션스 커맨드 (/permissions): 클로드 코드가 사용할 수 있는 도구 권한을 관리하고 업데이트할 수 있습니다.
• 버그 커맨드 (/bug): 엔트로픽에 클로드 코드 관련 버그 리포트를 보낼 수 있습니다.
• 리뷰 커맨드 (/review): 연동된 GitHub 레포지토리에서 풀 리퀘스트를 받아와 클로드 코드가 자동으로 리뷰하도록 할 수 있습니다.
• PR 커멘트 커맨드 (/pr-comments): 특정 풀 리퀘스트의 모든 커멘트를 분석하여 개선 사항을 파악할 수 있습니다.
• 로그인/로그아웃 기능 (/login, /logout): 계정을 전환하거나 로그아웃할 수 있으며, 멀티테넌시 환경에서 여러 계정을 동시에 운영할 때 유용합니다.
• 터미널 셋업 (/terminal-setup): Shift+Enter를 사용하여 줄바꿈을 하도록 설정할 수 있습니다. 설정하지 않았다면 Backspace+Enter를 사용해야 합니다.
• 빔 모드 (/vim-mode): 대화창에서 빔(Vim) 편집기처럼 단어별 이동, 삭제 등의 기능을 사용할 수 있습니다.
• 에이전트 기능: 커스텀 서브에이전트를 일괄적으로 관리할 수 있으며, 특정 작업에 특화된 서브에이전트를 미리 생성해 두어 자동으로 사용되도록 설정할 수 있습니다.
• MCP 커맨드 (/mcp): 현재 프로젝트와 연결된 MCP(Multi-Capability Platform)들의 상태를 한눈에 확인할 수 있습니다.
• 아웃풋 스타일 (/output-style): 클로드 코드가 출력하는 스타일을 변경할 수 있으며, 'Exploratory', 'Learning'과 같은 기본 설정이나 사용자 정의 포맷을 사용할 수 있습니다.
• 스테이터스 라인 (/status-line): 화면 하단의 한 줄 정보 영역을 사용자 정의하여 현재 사용 중인 모델 이름 등을 표시할 수 있습니다.
## claude.md에 대한 모든 것
• claude.md 파일 활용: 프로젝트의 구조, 폴더 구조, 중요 기능 설명 등을 요약하여 claude.md 파일에 저장하면 클로드 코드가 프로젝트 전체를 스캔하지 않아도 되어 성능이 압도적으로 향상됩니다.
• claude.md 파일 종류:
    ◦ 엔터프라이즈 파일: 회사 코딩 스탠더드나 기업 전반적인 룰을 저장합니다.
    ◦ 프로젝트 메모리 파일: 프로젝트 관련 룰을 저장합니다.
    ◦ 사용자 메모리 파일: 사용자 본인만 사용하는 룰을 저장합니다.
    ◦ 프로젝트 로컬 메모리 파일: 프로젝트 관련 룰이지만 개인적으로 사용할 룰들을 저장합니다.
• 파일 태그 (@ 사용): claude.md 파일 내에서 @ 기호를 사용하여 정확한 파일을 태그할 수 있으며, 절대 경로와 상대 경로 모두 사용 가능합니다.
• 네스팅 (Nesting): 하위 폴더에 claude.md 파일을 생성하여 해당 폴더에 들어갈 때만 클로드 코드가 해당 파일을 읽도록 설정할 수 있습니다. 이는 프로젝트 claude.md 파일이 너무 커지는 것을 방지하고 컨텍스트 사용을 최적화합니다.
## IDE 연동하기
• 플러그인 설치: 클로드 코드 플러그인을 설치하면 터미널과 바로 연동됩니다.
• 빠른 실행: Control+ESC 또는 Command+ESC를 사용하여 클로드 코드를 빠르게 실행할 수 있습니다.
• 하이라이트 자동 문맥 주입: IDE에서 코드를 하이라이트하면 해당 영역이 클로드 코드에 자동으로 문맥으로 주입됩니다.
• Diff 기능 연동: Visual Studio Code나 IntelliJ 같은 IDE의 Diff 뷰와 연동하여 변경 사항을 확인할 수 있습니다.
• 파일 참조: Mac에서는 Command+Option+K, Windows에서는 Alt+Control+K를 눌러 파일을 자동으로 참조할 수 있습니다.
• 외부 IDE 연동: /id 명령어를 입력하여 목록에서 원하는 외부 IDE를 선택하고 클로드 코드를 연동할 수 있습니다.
5. 엔트로픽이 직접 알려주는 꿀팁
• Git CLI 설치: Git CLI를 설치해두면 클로드 코드가 Git 커밋 분석, 커밋 메시지 작성, 롤백, 풀 리퀘스트 생성 등 복잡한 Git 관련 워크플로우를 쉽게 다룰 수 있습니다.
• MCP 사용: Superbase나 Playwright 같은 다양한 MCP(Multi-Capability Platform)를 클로드 코드와 함께 사용하면 클로드 코드가 직접 작업할 수 없는 부분들을 연동하여 LLM의 기능을 뛰어넘는 유용한 작업을 수행할 수 있습니다.
• 커스텀 슬래시 커맨드 사용: 자주 사용하는 Git 관련 커맨드나 테스트 관련 커맨드를 커스텀 슬래시 커맨드로 미리 만들어두고 반복적으로 사용할 수 있습니다. argument 값을 사용하여 프롬프트를 인수로 받을 수도 있습니다.
• 커스텀 슬래시 커맨드 스코프 조절: 커스텀 슬래시 커맨드를 사용자 스코프(모든 프로젝트에 적용)와 프로젝트 스코프(특정 프로젝트에만 적용)에 정의하여 중복을 피할 수 있습니다.
• 'Explain -> Plan -> Commit' 순서 따르기: 클로드 코드와의 대화 시 프로젝트 분석, 작업 계획, 작업 집행, 커밋 순서를 따르는 것이 중요합니다. 클로드가 더 많은 문맥과 가이드라인을 가질수록 효율적이고 정확한 작업을 수행합니다.
• Thinking 토큰 활용: 'Think', 'Think Think', 'Ultrac' 순서로 더 많은 토큰을 배정받을 수 있지만, 처리 시간이 길어지므로 항상 'Ultrac'을 사용하는 것이 좋지는 않습니다.
• TDD(Test-Driven Development) 적극 활용: 클로드 코드에게 예상 인풋과 아웃풋을 기반으로 테스트 코드를 먼저 작성하도록 유도하고, 테스트가 실패하면 구현 코드를 작성하고 통과할 때까지 반복하는 방식으로 작업하는 것이 좋습니다.
• 스크린샷 적극 활용: Playwright나 Puppeteer 같은 MCP를 사용하여 자동으로 페이지 스크린샷을 찍고 클로드 코드에게 주입하여 작업을 효율적으로 이터레이트할 수 있습니다.
• Raw 모드 사용: 숙련도가 높다면 Raw 모드를 사용해 보세요. 특히 Permissions 플래그와 함께 사용하면 클로드 코드가 사용자의 허락 없이도 더 자유롭게 코딩할 수 있습니다.
• Docker 컨테이너 활용: Raw 모드 사용이 부담스럽다면 Docker 컨테이너를 활용하여 안전하게 작업할 수 있습니다.
• 클로드 코드를 선생님으로 사용: 새로운 코드베이스를 이해해야 할 때 클로드 코드에게 코드베이스에 대해 질문하고, 전반적인 내용부터 세부적인 내용으로 점차 상세하게 질문해 나갈 수 있습니다.
• 프롬프트는 항상 상세하게 작성: "테스트를 작성해 줘"보다는 "샘플.파일의 테스트 코드를 작성해 줘. 사용자가 로그된 상태인 h-edge를 꼭 포함해 주고, 모의하지 말아 줘"와 같이 명확하게 명령할수록 더 정확한 결과를 얻을 수 있습니다.
• 이미지 전달: 스크린샷으로 이미지를 생성한 후 드래그 앤 드롭하거나 이미지 파일을 복사한 뒤 Control+V로 붙여넣어 클로드 코드에게 이미지를 전달할 수 있습니다.
• 파일 직접 태그: @ 기호를 입력하면 파일을 목록화할 수 있으며, Tab 키를 사용하여 원하는 파일을 쉽게 선택할 수 있습니다.
• ESC를 두려워하지 마세요: 클로드 코드가 잘못된 방향으로 작업을 진행할 경우 과감하게 ESC를 눌러 작업을 취소하여 컨텍스트가 오염되는 것을 방지하세요.
• 롤백 명령: 클로드 코드는 문맥 내의 변경 사항이나 커밋된 사항을 매우 훌륭하게 롤백할 수 있는 능력을 갖추고 있습니다. 원하는 형태를 설명하기만 하면 쉽게 롤백할 수 있습니다.
• 체크리스트나 스크래치 패드 적극 활용: 여러 단계를 거치는 작업을 할 경우, 클로드 코드에게 마크다운 체크리스트를 사용하여 작업하도록 명령하면 복잡한 장기 실행 작업을 더 잘 수행할 수 있습니다.
• 작업과 검증 분리: 한 에이전트로 코딩 작업을 한 뒤, /clear로 대화 내역을 삭제하거나 다른 서브에이전트를 생성하여 결과를 검증함으로써 독립적인 관점을 얻을 수 있습니다.
• 워크트리 사용: 워크트리를 사용하면 여러 브랜치 환경을 쉽게 나누어 독립적으로 작업할 수 있으며, GitHub와 함께 사용하여 여러 작업을 동시에 실행하고 풀 리퀘스트로 병합하는 작업 흐름을 만들 수 있습니다.